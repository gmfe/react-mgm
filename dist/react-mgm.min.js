!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("classnames"),require("underscore"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","classnames","underscore","react-dom"],t):"object"==typeof exports?exports.ReactMGM=t(require("react"),require("classnames"),require("underscore"),require("react-dom")):e.ReactMGM=t(e.react,e.classnames,e.underscore,e["react-dom"])}(this,function(e,t,n,r){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var a=n(4),s=r(a),o=n(11),i=r(o),l=n(25),u=r(l),c=n(18),d=r(c),p=n(6),f=r(p),h=n(26),m=r(h),g=n(5),v=r(g),_=n(19),y=r(_),b=n(16),w=r(b),P=n(15),T=r(P),N=n(24),j=r(N),E=n(22),O=r(E),x=n(20),C=r(x),M=n(21),S=r(M),D=n(23),q=r(D),k=n(17),F=r(k);n(27);var W={Flex:s.default,Infinite:w.default,Textarea:u.default,NProgress:d.default,Mask:f.default,Toast:m.default,Loading:v.default,Page:y.default,Header:T.default,Storage:j.default,Slider:O.default,Popup:C.default,SearchBar:S.default,Square:q.default,LazyImg:F.default,Util:i.default};e.exports=W},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(1),o=r(s),i=n(2),l=r(i),u=n(3),c=r(u),d=o.default.createClass({displayName:"Flex",propTypes:{flex:o.default.PropTypes.oneOfType([o.default.PropTypes.number,o.default.PropTypes.bool]),auto:o.default.PropTypes.bool,width:o.default.PropTypes.oneOfType([o.default.PropTypes.number,o.default.PropTypes.string]),height:o.default.PropTypes.oneOfType([o.default.PropTypes.number,o.default.PropTypes.string]),row:o.default.PropTypes.bool,column:o.default.PropTypes.bool,wrap:o.default.PropTypes.bool,nowrap:o.default.PropTypes.bool,justifyStart:o.default.PropTypes.bool,justifyEnd:o.default.PropTypes.bool,justifyCenter:o.default.PropTypes.bool,justifyBetween:o.default.PropTypes.bool,justifyAround:o.default.PropTypes.bool,alignStart:o.default.PropTypes.bool,alignEnd:o.default.PropTypes.bool,alignCenter:o.default.PropTypes.bool,alignBaseline:o.default.PropTypes.bool,alignStretch:o.default.PropTypes.bool},render:function(){var e=(0,l.default)({flex:!0,"flex-auto":this.props.auto,"flex-none":this.props.width||this.props.height,"flex-row":this.props.row,"flex-column":this.props.column,"flex-wrap":this.props.wrap,"flex-nowrap":this.props.nowrap,"flex-justify-start":this.props.justifyStart,"flex-justify-end":this.props.justifyEnd,"flex-justify-center":this.props.justifyCenter,"flex-justify-between":this.props.justifyBetween,"flex-justify-around":this.props.justifyAround,"flex-align-start":this.props.alignStart,"flex-align-end":this.props.alignEnd,"flex-align-center":this.props.alignCenter,"flex-align-baseline":this.props.alignBaseline,"flex-align-stretch":this.props.alignStretch},this.props.className),t=c.default.extend({},this.props.style);return this.props.flex&&(t.flex="boolean"==typeof this.props.flex?1:this.props.flex),this.props.height&&(t.height=this.props.height),this.props.width&&(t.width=this.props.width),o.default.createElement("div",a({},this.props,{className:e,style:t}),this.props.children)}});t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(1),o=r(s),i=o.default.createClass({displayName:"Loading",render:function(){return o.default.createElement("div",a({},this.props,{className:"loading"}),o.default.createElement("div",{className:"loading-inner"},o.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_0"}),o.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_1"}),o.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_2"}),o.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_3"}),o.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_4"}),o.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_5"}),o.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_6"}),o.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_7"}),o.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_8"}),o.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_9"}),o.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_10"}),o.default.createElement("div",{className:"weui_loading_leaf weui_loading_leaf_11"})))}});t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(1),o=r(s),i=n(2),l=r(i),u=o.default.createClass({displayName:"Mask",propTypes:{transparent:o.default.PropTypes.bool,show:o.default.PropTypes.bool,opacity:o.default.PropTypes.number},getDefaultProps:function(){return{transparent:!1,show:!1}},render:function(){var e=(0,l.default)({mask:!this.props.transparent,"mask-transparent":this.props.transparent}),t={display:this.props.show?"block":"none",opacity:this.props.opacity};return o.default.createElement("div",a({},this.props,{className:e,style:t}))}});t.default=u},function(e,t){e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=r(a),o=function(e,t){var n=e;return arguments.length<2?n:n=n.replace(/\{([\d\w\.]+)\}/g,function(e){var n=arguments[1].split("."),r=null;return s.default.each(n,function(e,n){r=n?r[e]:t[e]}),r})};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=r(a),o=function(e){return s.default.map(e,function(e,t){return[encodeURIComponent(t),"=",encodeURIComponent(e)].join("")}).join("&").replace(/%20/g,"+")};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=r(a),o=function(){var e=[],t=0;return{add:function(n){return n.__id=t++,e.push(n),n.__id},remove:function(t){e=s.default.filter(e,function(e){return e.__id!==t})},interceptor:{request:function(t){var n=Promise.resolve(t);return s.default.each(e,function(e){e.request&&(n=n.then(function(n){return e.request(n)||t}))}),n},response:function(t,n){var r=Promise.resolve(t);return s.default.each(e,function(e){e.response&&(r=r.then(function(t){return e.response(t,n)||t}))}),r},responseError:function(t,n){var r=Promise.reject(t);return s.default.each(e,function(e){e.responseError&&(r=r.catch(function(t){return Promise.reject(e.responseError(t,n)||t)}))}),r}}}}();t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var a=n(13),s=r(a),o=n(10),i=r(o),l=n(9),u=r(l),c=n(8),d=r(c),p=n(14),f=r(p),h=n(12),m=r(h);e.exports={Request:s.default,RequestInterceptor:i.default,format:d.default,param:u.default,visibility:f.default,is:m.default}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};n.weixin=function(){return/MicroMessenger/i.test(navigator.userAgent)},t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(9),o=r(s),i=n(8),l=r(i),u=n(3),c=r(u),d=n(10),p=r(d),f=function(e){return p.default.interceptor.request(e)},h=function(e,t,n,r){var a="color: #8a6d3b;";return e.then(function(e){if(e.ok){var t=e.headers.get("content-type");return t.indexOf("text/html")>-1?e.text().then(function(e){return e.indexOf("title>登陆</title")>-1?Promise.reject("请登录!"):Promise.reject("未知错误！！！！！")}):e.json()}return Promise.reject((0,l.default)("服务器错误 {status} {statusText}",e))}).then(function(e){return p.default.interceptor.response(e,r)},function(e){return Promise.reject(p.default.interceptor.responseError(e,r))}).then(function(e){return n.indexOf(e.code)>-1?e:(console.log("%c*** Request url: %s、code: %s、msg: %s",a,t,e.code,e.msg),Promise.reject(e.msg||"未知错误"))}).catch(function(e){return console.log("%c*** Request catch %s",a,e),Promise.reject(""+e)})},m=function(e,t){this._data={},this.url=e,this.sucCode=[0],this.options=a({method:"get",headers:{Accept:"application/json"},credentials:"include"},t)};m.prototype={code:function(e){return c.default.isArray(e)?this.sucCode=this.sucCode.concat(e):this.sucCode.push(e),this},data:function(e){return this._data=a({},e),"[object Object]"===toString.call(this._data)&&(this._data=c.default.pick(this._data,function(e){return null!==e&&void 0!==e})),this},json:function(e){return this._data=JSON.stringify(e),this},_getConfig:function(){var e=this;return{url:e.url,data:e._data,sucCode:e.sucCode,options:e.options}},_setConfig:function(e){var t=this;t.url=e.url,t._data=e.data,t.sucCode=e.sucCode,t.options=e.options},_beforeRequest:function(){var e=this;return f(e._getConfig()).then(e._setConfig.bind(e))},get:function(){var e=this;return e._beforeRequest().then(function(){var t=(0,o.default)(e._data),n=e.url+(e.url.indexOf("?")>-1?"&":"?")+t;return h(fetch(n,e.options),e.url,e.sucCode,e._getConfig())})},post:function(){var e,t=this,n=t._data;return t.options.method="post",t._beforeRequest().then(function(){if("[object Object]"===toString.call(n)){e=new FormData;for(var r in n)e.append(r,n[r])}else e=n;return t.options.body=e,h(fetch(t.url,t.options),t.url,t.sucCode,t._getConfig())})}};var g=function(e,t){return new m(e,t)};t.default=g},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!1,n=!1,r=e.getBoundingClientRect();return r.top<window.innerHeight&&r.bottom>0&&(t=!0),r.left<window.innerHeight&&r.right>0&&(n=!0),t&&n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),o=s.default.createClass({displayName:"Header",render:function(){return s.default.createElement("div",{className:"header"},this.props.left?this.props.left:s.default.createElement("a",{href:"javascript:void(0);",className:"button button-link pull-left header-left",onClick:this.handleBack},s.default.createElement("i",{className:"ifont ifont-angle-left"}),"返回"),this.props.right?this.props.right:null,s.default.createElement("h1",{className:"header-title"},this.props.title))},handleBack:function(e){e.stopPropagation(),e.preventDefault(),this.props.history&&this.props.history.go(-1)}});t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(1),o=r(s),i=n(2),l=r(i),u=n(5),c=r(u),d=o.default.createClass({displayName:"Infinite",getInitialState:function(){return{loading:!1}},getDefaultProps:function(){return{onBottom:function(){},bottomOffset:100}},render:function(){var e=(0,l.default)("infinite",this.props.className);return o.default.createElement("div",a({ref:"infinite"},this.props,{className:e,onScroll:this.handleScroll}),this.props.children,o.default.createElement("div",{className:"infinite-loading"},this.state.loading&&o.default.createElement(c.default,null)))},timer:null,handleBottom:function(){var e=this;clearTimeout(this.timer),this.setState({loading:!0});var t=this.props.onBottom();t&&t.then?t.then(function(){e.setState({loading:!1})},function(){e.setState({loading:!1})}):this.timer=setTimeout(function(){e.setState({loading:!1})},500)},scrollTop:0,handleScroll:function(e){e.target.scrollTop>this.scrollTop&&(this.state.loading||e.target.clientHeight+e.target.scrollTop+this.props.bottomOffset>=e.target.scrollHeight&&this.handleBottom()),this.scrollTop=e.target.scrollTop}});t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),i=r(o),l=n(2),u=r(l),c=i.default.createClass(a({displayName:"LazyImg",render:function(){(0,u.default)("lazy-img",this.props.className);return i.default.createElement("div",{clsssName:"cn"},i.default.createElement("img",s({ref:"img",src:this.props.src},this.props)))},pageDom:null,pageDomHeight:0,componentDidMount:function(){this.pageDom=document.getElementsByClassName("page")[0],this.pageDom&&(this.pageDomHeight=this.pageDom.offsetHeight,this.pageDom.addEventListener("scroll",this.onScroll))},componentWillUnmount:function(){this.pageDom&&this.pageDom.removeEventListener("scroll",this.onScroll)},timer:null,onScroll:function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){console.log(e.refs.img.offsetTop,e.pageDom.scrollTop+e.pageDomHeight)},500)}},"timer",null));t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),o=n(7),i=r(o),l="_mgm_nprogress_container"+(Math.random()+"").slice(2),u=document.getElementById(l);u||(u=document.createElement("div"),u.className="nprogress-container",u.id=l,document.body.appendChild(u));var c={start:function(){i.default.unmountComponentAtNode(u),i.default.render(s.default.createElement(d,null),u)},done:function(){i.default.render(s.default.createElement(d,{precent:100}),u),setTimeout(function(){i.default.unmountComponentAtNode(u)},250)}},d=s.default.createClass({displayName:"NProgress",statics:c,getInitialState:function(){return{precent:0}},componentWillReceiveProps:function(e){e.precent&&(clearTimeout(this.timer),this.setState({precent:e.precent}))},render:function(){var e=100-this.state.precent;return s.default.createElement("div",{className:"nprogress",style:{transform:"translate3d(-"+e+"%, 0px, 0px)"}},s.default.createElement("div",{className:"nprogress-head"}))},componentDidMount:function(){this.doInc()},componentWillUnmount:function(){clearTimeout(this.timer)},doInc:function(){var e=this;e.timer=setTimeout(function(){e.setState({precent:e.state.precent+.2*(100-e.state.precent)}),e.state.precent<90&&e.doInc()},150)}});t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(1),o=r(s),i=n(2),l=r(i),u=n(4),c=r(u),d=o.default.createClass({displayName:"Page",propTypes:{children:s.PropTypes.node,className:s.PropTypes.string,white:s.PropTypes.bool,header:s.PropTypes.node,tabbar:s.PropTypes.node},getDefaultProps:function(){return{}},render:function(){var e=(0,l.default)({page:!0,"page-white":this.props.white},this.props.className);return this.props.header||this.props.tabbar?o.default.createElement(c.default,a({column:!0},this.props,{className:e}),this.props.header&&o.default.createElement(c.default,{column:!0},this.props.header),o.default.createElement(c.default,{flex:!0,column:!0,className:"page-content block"},this.props.children),this.props.tabbar&&o.default.createElement(c.default,{column:!0,className:"page-tabbar"},this.props.tabbar)):o.default.createElement("div",{className:e},this.props.children)}});t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(1),o=r(s),i=n(2),l=r(i),u=n(6),c=r(u),d=n(3),p=r(d),f=o.default.createClass({displayName:"Popup",propTypes:{show:s.PropTypes.bool,onChange:s.PropTypes.func,left:s.PropTypes.bool,bottom:s.PropTypes.bool,width:s.PropTypes.oneOfType([s.PropTypes.string,s.PropTypes.number]),height:s.PropTypes.oneOfType([s.PropTypes.string,s.PropTypes.number])},getDefaultProps:function(){return{show:!1,onChange:function(){}}},render:function(){var e=(0,l.default)("popup",{active:this.props.show,"popup-left":this.props.left,"popup-bottom":this.props.bottom},this.props.className),t=p.default.extend({},this.props.style);return this.props.left&&this.props.width?t.width=this.props.width:this.props.bottom&&this.props.height&&(t.height=this.props.height),o.default.createElement("div",{className:"popup-wrap"},o.default.createElement(c.default,{show:this.props.show,opacity:.1,onClick:this.handleChange}),o.default.createElement("div",a({},this.props,{className:e,style:t}),o.default.createElement("div",{className:"popup-content"},this.props.children)))},handleChange:function(){this.props.onChange(!this.props.show)}});t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),o=n(2),i=r(o),l=s.default.createClass({displayName:"SearchBar",propTypes:{defaultFocus:a.PropTypes.bool,value:a.PropTypes.string.isRequired,onChange:a.PropTypes.func.isRequired,placeholder:a.PropTypes.string,onOK:a.PropTypes.func,onCancel:a.PropTypes.func},getDefaultProps:function(){return{id:"_mgm_search_bar_id"+(Math.random()+"").slice(2),defaultFocus:!1,onOK:function(){},onCancel:function(){}}},getInitialState:function(){return{focus:this.props.defaultFocus}},render:function(){var e=(0,i.default)("search-bar weui_search_bar",{weui_search_focusing:this.state.focus});return s.default.createElement("div",{className:e},s.default.createElement("form",{className:"weui_search_outer",onSubmit:this.handleOK},s.default.createElement("div",{className:"weui_search_inner"},s.default.createElement("i",{className:"weui_icon_search"}),s.default.createElement("input",{id:this.props.id,type:"search",className:"weui_search_input",placeholder:this.props.placeholder,onFocus:this.handleFocus,onChange:this.handleChange,ref:"input",value:this.props.value}),""===this.props.value?void 0:s.default.createElement("a",{href:"javascript:",className:"weui_icon_clear",onClick:this.handleClose})),s.default.createElement("label",{htmlFor:this.props.id,"for":"search_input",className:"weui_search_text"},s.default.createElement("i",{className:"weui_icon_search"}),s.default.createElement("span",null,this.props.placeholder))),s.default.createElement("a",{href:"javascript:",className:"weui_search_cancel",onClick:this.handleCancle},"取消"))},handleFocus:function(e){e.preventDefault(),this.setState({focus:!0})},handleClose:function(e){e.preventDefault(),this.props.onChange(""),this.refs.input.focus()},handleCancle:function(e){e.preventDefault(),this.setState({focus:!1}),this.props.onChange(""),this.props.onCancel()},handleOK:function(e){e.preventDefault(),this.props.onOK(),this.setState({focus:!1})},handleChange:function(e){this.props.onChange(e.target.value)}});t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(1),o=r(s),i=n(7),l=r(i),u=n(2),c=r(u),d=n(3),p=r(d),f=n(4),h=r(f),m=o.default.createClass({displayName:"Slider",getInitialState:function(){return{count:1,sliderWidth:0,touchObject:null,dragging:!1,transition:!1,x:0}},render:function(){var e=this.state.touchObject,t=e?e.x-e.startX+this.state.x:this.state.x,n=(0,c.default)({"slider-transition":this.state.transition},this.props.className),r={WebkitTransform:"translate3d("+t+"px, 0, 0)",transform:"translate3d("+t+"px, 0, 0)"};return o.default.createElement("div",{className:"slider"},o.default.createElement(h.default,a({},this.props,{ref:"slider",className:n,onMouseDown:this.swipeStart,onMouseMove:this.state.dragging?this.swipeMove:null,onMouseUp:this.swipeEnd,onMouseLeave:this.state.dragging?this.swipeEnd:null,onTouchStart:this.swipeStart,onTouchMove:this.state.dragging?this.swipeMove:null,onTouchEnd:this.swipeEnd,onTouchCancel:this.state.dragging?this.swipeEnd:null,style:r}),this.renderChild()),this.renderFlag())},renderChild:function(){return"[object Array]"===toString.call(this.props.children)?p.default.map(this.props.children,function(e,t){return o.default.cloneElement(e,{style:p.default.extend({},e.props.style,{width:"100%"}),className:(0,c.default)("slider-cell flex flex-none",e.props.className),key:t})}):this.props.children},renderFlag:function(){var e=this;return o.default.createElement(h.default,{justifyCenter:!0,className:"slider-flag"},p.default.map(p.default.range(this.state.count),function(t,n){return o.default.createElement("span",{className:(0,c.default)({active:Math.abs(e.state.x/e.state.sliderWidth)===n}),key:n})}))},componentDidMount:function(){this.setSliderWidth(),this.setState({count:"[object Array]"===toString.call(this.props.children)?this.props.children.length:1}),window.addEventListener("resize",this.setSliderWidth)},componentWillUnmount:function(){window.removeEventListener("resize",this.setSliderWidth)},setSliderWidth:function(){var e=l.default.findDOMNode(this.refs.slider);this.setState({sliderWidth:e.offsetWidth})},getX:function(e){return void 0!==e.touches?e.touches[0].pageX:e.clientX},swipeStart:function(e){this.setState({dragging:!0,transition:!1,touchObject:{startX:this.getX(e),x:this.getX(e)}})},swipeMove:function(e){this.setState({dragging:!0,transition:!1,touchObject:p.default.extend({},this.state.touchObject,{x:this.getX(e)})})},swipeEnd:function(){if(this.state.dragging){var e=this.state.touchObject,t=e.x-e.startX,n=this.state.x;e&&Math.abs(t)>50?(t>0?n+=this.state.sliderWidth:n-=this.state.sliderWidth,n>0&&(n=0),n<-(this.state.sliderWidth*(this.state.count-1))&&(n=-(this.state.sliderWidth*(this.state.count-1))),this.setState({transition:!0,dragging:!1,touchObject:null,x:n})):this.setState({transition:!0,dragging:!1,touchObject:null})}}});t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(1),o=r(s),i=n(2),l=r(i),u=o.default.createClass({displayName:"Square",render:function(){var e=(0,l.default)("square-inner",this.props.className);return o.default.createElement("div",{className:"square"},o.default.createElement("div",a({},this.props,{className:e}),this.props.children))}});t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),o=n(3),i=r(o),l=s.default.PropTypes,u="_react-gmm_",c=s.default.createClass({displayName:"Storage",statics:{set:function(e,t){localStorage.setItem(u+e,JSON.stringify(t))},get:function(e){var t=localStorage.getItem(u+e);return t?JSON.parse(t):t},remove:function(e){localStorage.removeItem(u+e)},clear:function(){localStorage.clear()},getAll:function(){for(var e,t={},n=0;n<localStorage.length;n++)e=localStorage.key(n),e.startsWith(u)&&(e=e.slice(u.length),t[e]=c.get(e));return i.default.keys(t)?t:null}},propTypes:{name:l.string.isRequired,value:l.oneOfType([l.string,l.object,l.array]),autoSave:l.bool},getDefaultProps:function(){return{autoSave:!0}},save:function(){c.set(this.props.name,value)},componentWillUpdate:function(){this.props.autoSave&&this.save()},componentWillMount:function(){this.save()},render:function(){return null}});t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(1),o=r(s),i=n(2),l=r(i),u=n(3),c=(r(u),o.default.createClass({displayName:"Textarea",getDefaultProps:function(){return{wrapProps:{}}},render:function(){var e=(0,l.default)("textarea-adapter",this.props.wrapProps.className);return o.default.createElement("div",a({},this.props.wrapProps,{className:e}),o.default.createElement("pre",null,this.props.value),o.default.createElement("textarea",a({},this.props,{className:(0,l.default)("weui_textarea",this.props.className)})))}}));t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),o=n(7),i=r(o),l=n(6),u=r(l),c=n(5),d=r(c),p=n(3),f=r(p),h="_mgm_toasts_container"+(Math.random()+"").slice(2),m=document.getElementById(h);m||(m=document.createElement("div"),m.className="mgm-toasts",m.id=h,document.body.appendChild(m));var g={};g={_queue:[],_ing:!1,_render:function(){if(!g._ing){var e=g._queue.shift();if(void 0!==e){g._ing=!0;var t=e.onFinish,n=document.createElement("div");return n.className="mgm-toasts-cell",m.appendChild(n),e.onFinish=function(){t&&t(),m.removeChild(n),g._ing=!1,g._queue.length>0&&setTimeout(function(){g._render()},500)},i.default.render(s.default.createElement(v,e,e.children),n),n}}},clear:function(e){i.default.unmountComponentAtNode(e)},tip:function(e){return"string"==typeof e&&(e={children:e}),e=f.default.extend({show:!0},e),g._queue.push(e),g._render()},success:function(e){return"string"==typeof e&&(e={children:e}),g.tip(f.default.extend({success:!0},e))},info:function(e){return"string"==typeof e&&(e={children:e}),g.tip(f.default.extend({info:!0},e))},warning:function(e){return"string"==typeof e&&(e={children:e}),g.tip(f.default.extend({warning:!0},e))},danger:function(e){return"string"==typeof e&&(e={children:e}),g.tip(f.default.extend({danger:!0},e))},loading:function(e){return"string"==typeof e&&(e={children:e}),g.tip(f.default.extend({loading:!0},e))}};var v=s.default.createClass({displayName:"Toast",statics:g,propTypes:{onClick:s.default.PropTypes.func,onFinish:s.default.PropTypes.func,show:s.default.PropTypes.bool,time:s.default.PropTypes.any,loading:s.default.PropTypes.bool,icon:s.default.PropTypes.any,success:s.default.PropTypes.bool,info:s.default.PropTypes.bool,warning:s.default.PropTypes.bool,danger:s.default.PropTypes.bool},getDefaultProps:function(){return{show:!1,time:2e3,loading:!1,icon:null,onClick:function(){},onFinish:function(){}}},getInitialState:function(){return{show:this.props.show}},componentWillReceiveProps:function(e){void 0!==e.show&&this.setState({show:e.show})},render:function(){var e=this.props.icon,t=this.props.children;return this.props.loading?(e=s.default.createElement(d.default,null),t=t||"加载中..."):this.props.success?e=s.default.createElement("i",{className:"ifont ifont-success"}):this.props.info?e=s.default.createElement("i",{className:"ifont ifont-info-circle"}):this.props.warning?e=s.default.createElement("i",{className:"ifont ifont-warning"}):this.props.danger&&(e=s.default.createElement("i",{className:"ifont ifont-close"})),s.default.createElement("div",{style:{display:this.state.show?"block":"none"}},s.default.createElement(u.default,{show:this.state.show,opacity:.1}),s.default.createElement("div",{className:"toast-container"},s.default.createElement("div",{className:"toast",onClick:this.handleClick},e,s.default.createElement("div",{className:"toast-content"},t))))},timer:null,componentDidMount:function(){var e=this;e.props.time&&(e.timer=setTimeout(function(){e.setState({show:!1}),e.handleFinish()},e.props.time))},componentWillUnmount:function(){var e=this;clearTimeout(e.timer),e.setState({show:!1}),e.handleFinish()},componentDidUpdate:function(){this.state.show===!1&&this.handleFinish()},handleClick:function(){this.props.onClick()},isFinished:!1,handleFinish:function(){this.isFinished||(this.isFinished=!0,this.props.onFinish())}});t.default=v},function(e,t){}])});